<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.geminit.dao.CityDao">
    <resultMap id="BaseMap" type="com.geminit.entity.City">
        <result column="id" property="id" jdbcType="INTEGER" />
        <result column="pid" property="pid" jdbcType="INTEGER" />
        <result column="shortname" property="shortname" jdbcType="VARCHAR" />
        <result column="name" property="name" jdbcType="VARCHAR" />
        <result column="fullname" property="fullname" jdbcType="VARCHAR" />
        <result column="level" property="level" jdbcType="INTEGER" />
        <result column="pinyin" property="pinyin" jdbcType="VARCHAR" />
        <result column="code" property="code" jdbcType="VARCHAR" />
        <result column="zip" property="zip" jdbcType="VARCHAR" />
        <result column="lng" property="lng" jdbcType="VARCHAR" />
        <result column="lat" property="lat" jdbcType="VARCHAR" />
        <result column="temperature" property="temperature" jdbcType="VARCHAR" />
    </resultMap>

    <select id="getCities" resultMap="BaseMap">
        SELECT
        *
        FROM city
        WHERE
        level=2
        ORDER BY id ASC
    </select>

    <select id="getLLTByName" resultType="String">
        SELECT
        lng, lat, temperature
        FROM city
        WHERE
        name=#{name}
    </select>

    <update id="setTemperatureById">
        UPDATE
        city
        SET
        temperature=#{temperature}
        WHERE
        id=#{id}
    </update>


</mapper>